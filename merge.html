<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>래프트(FROM GARBAGE)</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Hi+Melody&family=Jua&family=Poor+Story&family=Rubik:wght@300&display=swap');

        * {
            font-family: "Hi Melody", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        /* 제목 */
        .h1 {
            font-size: 4rem;
            margin: 1em;
            text-align: center;
        }

        /* 제목 */

        /* 시계 */
        .clock {

            width: 60%;
            margin: 0px auto;
            text-align: right;
            font-size: 3em;
            color: #333;
        }

        /* 시계 */

        /* 네비게이션바 */
        .nav {
            border-top: solid 1px #0077b6;
            border-bottom: solid 1px #0077b6;
            display: flex;
            justify-content: center;
            width: 60%;
            margin: 0 auto;
        }

        .nav_ul {
            text-align: center;
            display: flex;
        }

        .nav-ul li {
            font-size: 1rem;
            display: inline;
            text-align: center;
            flex-grow: 1;
            padding: 0 2rem;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.5s cubic-bezier(.25, .8, .25, 1);
        }

        .nav-ul p {
            font-size: 1rem;
            display: inline;
            text-align: center;
            flex-grow: 1;
            padding: 0 2rem;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.5s cubic-bezier(.25, .8, .25, 1);
        }

        .SMN_effect-14 {
            position: relative;
            transition: color 0.3s;
            cursor: pointer;
        }

        .SMN_effect-14:before {
            position: absolute;
            top: 70%;
            left: 50%;
            color: transparent;
            content: '•';
            text-shadow: 0 0 transparent;
            font-size: 13pt;
            transition: text-shadow 0.3s, color 0.3s;
            transform: translateX(-50%);
            pointer-events: none;
        }

        .SMN_effect-14:hover:before,
        .SMN_effect-14:focus:before {
            color: #000;
            text-shadow: 10px 0 #000, -10px 0 #000;
        }

        .SMN_effect-14:hover,
        .SMN_effect-14:focus {
            color: #0abde3;
        }

        /* 네비게이션바 */

        /* 팀소개 */
        .팀소개 {
            background-color: #90e0ef;
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: space-between;
            width: 60%;
            padding: 1rem;
            margin: 5rem auto;
            border-radius: 10px;
            cursor: url("https://github.com/Lustella-123/Lustella-123/blob/main/claw-2027511_960_720.png?raw=true") 0 16, wait;
        }

        .raft {
            display: flex;
            width: 100%;
        }

        /* 팀소개 */

        /* 팀내용 */
        .팀내용 {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            width: 80%;
            margin: 5rem auto;
        }

        .팀카드 {
            background-color: #caf0f8;
            font-size: 1.1rem;
            width: 45%;
            padding: 1.5rem;
            height: auto;
            margin: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .팀카드:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .팀카드 h3 {
            font-size: 1.3rem;
            color: #0077b6;
            margin-bottom: 0.8rem;
        }

        .팀카드 ul {
            list-style-type: disc;
            padding-left: 1.2rem;
        }

        .팀카드 li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        /* 팀내용 */

        /* 멤버내용 */
        .멤버 {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            width: 80%;
            margin: 0rem auto;
        }

        .멤버카드 {
            background-color: #ade8f4;
            font-size: 1rem;
            width: 20%;
            padding: 10px;
            height: auto;
            margin: 1rem;
        }

        .멤버카드 p {
            margin: 0;
        }

        .team {
            width: 1200px;

            margin: 20px auto 20px auto;
        }

        /* 멤버내용 */

        /* 방명록 */
        .guestbook {
            width: 1000px;
            background-color: #ade8f4;

            margin: 70px auto 70px auto;

            /* border: 2px solid black; */
            border-radius: 15px;
            padding: 20px;
        }

        .guestbook>button {

            width: 100%;
        }

        /* 방명록 */

        /* 방명록 카드 */
        .guestbookcard {
            width: 1300px;
            border-radius: 15px;

            background-color: #ade8f4;

            padding: 20px;
            margin: 20px auto 20px auto;
        }

        .guestbookcard:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* 방명록 카드 */
    </style>
    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAWXz7ovgnjee_RrUvg8lRmVzpcZwdiGlQ",
            authDomain: "sparta-255c7.firebaseapp.com",
            projectId: "sparta-255c7",
            storageBucket: "sparta-255c7.appspot.com",
            messagingSenderId: "474190313252",
            appId: "1:474190313252:web:57c867b5fdc42c09d0e5b1",
            measurementId: "G-P2M5HNY85R"
        };


        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // 시간 불러오는 기능
        function updateTime() {
            const timeElement = document.getElementById("time");
            const now = new Date(); // 현재 시간을 가져옵니다.

            // 시간을 형식에 맞게 가져오기
            const hours = String(now.getHours()).padStart(2, "0"); // 시
            const minutes = String(now.getMinutes()).padStart(2, "0"); // 분
            const seconds = String(now.getSeconds()).padStart(2, "0"); // 초

            // 시간을 문자열로 조합
            timeElement.textContent = `${hours}:${minutes}:${seconds}`;
        }

        // 1초마다 시간을 업데이트
        setInterval(updateTime, 1000);

        // 페이지가 로드될 때 즉시 시간을 표시하기 위해 초기 호출
        updateTime();

        // 기온 불러오는 기능
        let url = "http://spartacodingclub.shop/sparta_api/weather/seoul";
        fetch(url).then(res => res.json()).then(data => {
            let temp = data['temp'];

            $('#msg').text(temp);
        })

        // 방명록 저장할 데이터 입력 후 저장
        $("#guestbookbtn").click(async function () {
            let name = $('#name').val();
            let content = $('#content').val();

            let doc = {
                'name': name,
                'content': content
            };
            await addDoc(collection(db, "guestbook"), doc);
            alert('저장 완료!');
            window.location.reload();
        })

        // 방명록에 저장되어 있는 데이터 카드로 가져오기
        let docs = await getDocs(collection(db, "guestbook"));
        docs.forEach((doc) => {
            let row = doc.data();

            let name = row['name'];
            let content = row['content'];

            //console.log(image, title, comment);  //console 창에 값 띄우기!
            //console.log(star);  //console 창에 값 띄우기!

            let temp_html = `            
            <div class="guestbookcard">
            <div class="card-body">
                <h3>${name}</h3>
                <p>${content}</p>
            </div>
        </div>`;

            $('#card').append(temp_html);  //카드 추가하기!

        });

        $(document).ready(function () {

            $("#teamIntro").click(function () {

                $("html ").animate({ scrollTop: $("#팀소개").offset().top }, 1000);

            });

            $("#teamContent").click(function () {

                $("html").animate({ scrollTop: $("#팀내용").offset().top }, 1000);

            });

            $("#teamMembers").click(function () {

                $("html").animate({ scrollTop: $("#팀원").offset().top }, 1000);

            });

            $("#guestbook").click(function () {

                $("html").animate({ scrollTop: $("#방명록").offset().top }, 1000);

            });

        });
    </script>
</head>

<body>
    <!-- 제목 및 네비게이션바 -->
    <h1 class="h1">래프트(from garbage)</h1>

    <div class="clock">
        <h4 id="time"></h4>
        <h4><span id="msg"></span>도</h4>
    </div>

    <nav class="nav">
        <ul class="nav-ul">
            <li id="teamIntro" class="SMN_effect-14">팀 소개</li>
            <li id="teamContent" class="SMN_effect-14">팀 내용</li>
            <li id="teamMembers" class="SMN_effect-14">멤버</li>
            <li id="guestbook" class="SMN_effect-14">방명록</li>
        </ul>
    </nav>

    <!-- 팀소개 -->
    <div class="팀소개" id="팀소개">
        <div>
            <h3>래프트(from garbage)</h3>
            <p>안녕하세요! 미니프로젝트에서 4조를 맡은 팀 래프트(from garbage)입니다.</p>
        </div>
        <div>
            <img class="raft" src="https://shared.cloudflare.steamstatic.com/store_item_assets/steam/apps/648800/header.jpg?t=1727184011" alt="Raft_steam">
        </div>
    </div>

    <!-- 팀내용 -->
    <div class="팀내용" id="팀내용">
        <div class="팀카드">
            <p>열심히 꾸며봐요!</p>
        </div>
        <div class="팀카드">
            <ul>
                <li>소통을 중요시하며 자리 비움이나 문제가 생기면 빠르게 공유하겠습니다.</li>
                <li>실수나 문제가 있어도 남 탓하지말고 문제를 해결해나가는데 집중하겠습니다.</li>
                <li>대화를 할 때는 캠도 켜고 화면공유도 잘 하겠습니다.</li>
                <li>파이팅하겠습니다!</li>
            </ul>
        </div>
        <div class="팀카드">
            <ul>
                <li>매일 일정 소화하기</li>
                <li>부끄러워도 물어보기</li>
                <li>이번 프로젝트 포트폴리오로 사용하기</li>
                <li>TIL 남은날까지 맨날 쓰기</li>
                <li>1일 1TIL, 1알고리즘</li>
            </ul>
        </div>
    </div>

    <div class="team" id="팀원">
        <div class="row row-cols-1 row-cols-md-4 g-4">
            <div class="col">
                <a href="" class="card h-100 text-decoration-none">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJrKvgRYGgmnoPZ1ziaeughvvFrQHJsirpdg&s" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">한성우</h5>
                        <p class="card-text">MBTI</p>
                    </div>
                </a>
            </div>
            <div class="col">
                <a href="" class="card h-100 text-decoration-none">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJrKvgRYGgmnoPZ1ziaeughvvFrQHJsirpdg&s" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">박재성</h5>
                        <p class="card-text">MBTI</p>
                    </div>
                </a>
            </div>
            <div class="col">
                <a href="" class="card h-100 text-decoration-none">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJrKvgRYGgmnoPZ1ziaeughvvFrQHJsirpdg&s" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">방동혁</h5>
                        <p class="card-text">MBTI</p>
                    </div>
                </a>
            </div>
            <div class="col">
                <a href="" class="card h-100 text-decoration-none">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJrKvgRYGgmnoPZ1ziaeughvvFrQHJsirpdg&s" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">이승찬</h5>
                        <p class="card-text">MBTI</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <div class="guestbook" id="방명록">
        <h2>방명록 작성하기</h2>
        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">이름</label>
            <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="이름">
        </div>
        <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">방명록 내용 적기</label>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="응원 한마디 적어주세요!!"></textarea>
        </div>
        <button type="button" class="btn btn-outline-dark">방명록 저장하기</button>
    </div>

    <div id="card">

    </div>

</body>

</html>